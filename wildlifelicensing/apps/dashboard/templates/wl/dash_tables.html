{% extends 'wl/base.html' %}
{% load static %}
{% load users %}

{% block extra_css %}
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.2.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
  <link href="//static.dpaw.wa.gov.au/static/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'wl/css/dashboard.css' %}" />
{% endblock %}

{% block requirements %}
  require(["{% static 'wl/js/dash_tables.js' %}"], function (app) { var options = { data:{% if dataJSON %}
    {{ dataJSON|safe }}
  {% else %}
    {}
  {% endif %}}; app(options); });
{% endblock %}

{% block content %}
  <div class="container" id="dashboard-table-container">
    {% block applications %}
      <div id="applications-accordion">
        <div class="card mb-3" id="applications">
          <div class="card-header applications" id="applications-heading">
            <h3 class="mb-0">
              {% block applications_title %}
                Applications
              {% endblock %}
            </h3>
          </div>
          <div id="applications-collapse" class="collapse show" role="tabpanel" aria-labelledby="applications-heading">
            <div class="card-body">
              <div class="row filter-panel pad-bottom-md pad-top-s">
                <div id="applications-filter-panel">
                  {% block applications_filters %}

                  {% endblock %}
                </div>
              </div>
              <table id="applications-table" class="table table-striped table-bordered dataTable"></table>
            </div>
          </div>
        </div>
      </div>
    {% endblock %}
    {% block licences %}
      <div id="licences-accordion">
        <div class="card mb-3" id="licences">
          <div class="card-header licences" id="licences-heading">
            <h3 class="mb-0">
              {% block licences_title %}
                Licences
              {% endblock %}
            </h3>
          </div>
          <div id="licences-collapse" class="collapse show" role="tabpanel" aria-labelledby="licences-heading">
            <div class="card-body">
              <div class="row filter-panel pad-bottom-md pad-top-s">
                <div id="licences-filter-panel">
                  {% block licences_filters %}

                  {% endblock %}
                </div>
              </div>
              <table id="licences-table" class="table table-striped table-bordered dataTable"></table>
            </div>
          </div>
        </div>
      </div>
    {% endblock %}
    {% block returns %}
      <div id="returns-accordion">
        <div class="card mb-3" id="returns">
          <div class="card-header returns" id="returns-heading">
            <h3 class="mb-0">
              {% block returns_title %}
                Returns
              {% endblock %}
            </h3>
          </div>
          <div id="returns-collapse" class="collapse show" role="tabpanel" aria-labelledby="returns-heading">
            <div class="card-body">
              <div class="row filter-panel pad-bottom-md pad-top-s">
                <div id="returns-filter-panel">
                  {% block returns_filters %}

                  {% endblock %}
                </div>
              </div>
              <table id="returns-table" class="table table-striped table-bordered dataTable"></table>
            </div>
          </div>
        </div>
      </div>
    {% endblock %}
  </div>
{% endblock %}
